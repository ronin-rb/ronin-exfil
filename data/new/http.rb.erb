#!/usr/bin/env ruby

require 'ronin/listener/http'

Ronin::Listener::HTTP.listen(host: <%= @host.inspect -%>, port: <%= @port -%><%- if @vhost -%>, vhost: <%= @vhost.inspect %><%- end -%><%- if @root -%>, root: <%= @root.inspect -%><%- end -%>) do |request|
  puts "#{request.method} #{request.path} #{request.version}"

  request.headers.each do |name,value|
    puts "#{name}: #{value}"
  end

  puts request.body if request.body
  puts
end
